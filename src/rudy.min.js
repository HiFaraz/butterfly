"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=n():t.rudy=n()}(this,function(){function t(t){return m(t),t.__livePaths__=[],f(t),o(t),t}function n(t,n,e){var r=c(t.data,n);"function"==typeof r&&-1===t.__livePaths__.indexOf(n)&&t.__livePaths__.push(n),t.__bindings__[n].push(e)}function e(t){return t.templateURL?l(u(t.templateURL)):t.template?l(t.template):document.querySelector(t.target).childNodes}function r(t){return function(n,e,r,o,i){var a=c(t.watchers,i);return"function"==typeof a&&(r=a(r,null)||r),"function"==typeof r&&(r=r.call(Object.assign({},t.__data__))),t.__bindings__[i]&&(t.__bindings__[i].forEach(function(t){t(r)}),t.__livePaths__&&t.__livePaths__.forEach(function(n){var e=(c(t.__data__,n)||function(){}).bind(Object.assign({},t.__data__)),r=c(t.watchers,n);"function"==typeof r&&(e=r(e,null)||e),"function"==typeof e&&(e=e.call(Object.assign({},t.__data__))),t.__bindings__[n].forEach(function(t){t(e)})})),!0}}function o(t){t.__data__=Object.assign({},t.data);var n=null;return Object.defineProperty(t,"data",{get:function(){return n},set:function(e){t.__data__=Object.assign({},e),n=new g(t.__data__,{set:r(t)}),"function"==typeof this.create&&(this.__create__=this.create,this.create.call(this.data),delete this.create),h(this)}}),t.data=t.__data__,t}function i(t,n){var e=[];return t.forEach(function(t){e.push(t,n)}),e.pop(),e}function a(t){var n=[];return t.forEach(function(t){v(t,function(t){n.push(t)})}),n}function u(t){return new Promise(function(n,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.onload=function(){4!=r.readyState||200!=r.status?e():n(r.responseText)};try{r.send()}catch(o){e(o)}})}function c(t,n){return t&&n?n.split(".").reduce(function(t,n){return void 0===t?void 0:t[n]},t):void 0}function f(t){function r(e){function r(n){function e(t,n){for(var e=arguments.length,r=Array(e>2?e-2:0),o=2;e>o;o++)r[o-2]=arguments[o];r.forEach(function(e){t[e]=n})}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",o=["onclick","onchange","onkeypress","oninput"],i=c(t.watchers,n.getAttribute("name"));n.hasAttribute("no-bind")===!1&&(t.watchers===!0||i===!0||"function"!=typeof i&&n.hasAttribute("bind")?e.apply(void 0,[n,function(){_(t.data,n.getAttribute("name"),n[r])}].concat(o)):"function"==typeof i&&e.apply(void 0,[n,function(){var e=i(n[r],n);e&&_(t.data,n.getAttribute("name"),e)}].concat(o)))}var o={};o.INPUT=function(e){if(e.getAttribute("name")){y(t,e.getAttribute("name"));var o="checkbox"===e.getAttribute("type")?"checked":"value";n(t,e.getAttribute("name"),function(t){e[o]=t}),r(e,o)}},["RANGE","SELECT","TEXTAREA"].forEach(function(e){o[e]=function(e){e.getAttribute("name")&&(y(t,e.getAttribute("name")),n(t,e.getAttribute("name"),function(t){e.value=t}),r(e))}}),o["#text"]=function(e){var r,o=e.textContent.match(/{{(.+?)}}/g);o&&(r=o[0].replace(/[{}]/g,"").trim(),y(t,r),n(t,r,function(t){e.nodeValue=t}),e.textContent="")},void 0!==e.nodeName&&o[e.nodeName]&&o[e.nodeName](e)}function o(n){return n.forEach(r),t}function i(t){var n=document.querySelector(t.target);if(""===n.innerHTML.trim())do n.appendChild(u[0]);while(u[0]);console.timeEnd("Time to render first view")}console.time("Time to render first view"),t.__bindings__={};var u=e(t);return u instanceof Promise?e(t).then(a).then(d).then(o).then(h).then(i):void s(a,d,o,h,i)(u)}function s(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];return function(){var t,e,r,o=this;for(t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return n.reduce(function(t,n,e){var r=0==e?n.apply(o,t):n.call(o,t);return r},e)}}function _(t,n,e){var r,o,i=t,a=n.split("."),u=a.length;for(r=0;u-1>r;r++)o=a[r],i[o]||(i[o]={}),i=i[o];i[a[u-1]]=e}function d(t){function n(t){"#text"===t.nodeName?u=u.concat(e(t)):u.push(t)}function e(t){var n=t.textContent.match(/{{(.+?)}}/g);return n?r(t,n):t}function r(t,n){var e=o(t.textContent,n).map(function(n){var e=document.createTextNode(n);return t.parentNode.insertBefore(e,t),e});return t.parentNode.removeChild(t),e}function o(t,n){var e=[t];return n.forEach(function(t){e=a(e,t)}),e}function a(t,n){var e=[];return t.forEach(function(t){t.indexOf(n)>-1?e.push.apply(e,i(t.split(n),n)):e.push(t)}),e}var u=[];return t.forEach(n),u}function l(t){return(new DOMParser).parseFromString(t,"text/html").body.childNodes}function h(t){var n=r(t);return Object.keys(t.__bindings__).forEach(function(e){p(t,e,n)}),t}function p(t,n,e){void 0===e&&(e=r(t));var o=c(t.__data__,n);o&&e(null,null,o,null,n)}function y(t,n){t.__bindings__[n]=t.__bindings__[n]||[]}function v(t,n){for(n(t),t=t.firstChild;t;)v(t,n),t=t.nextSibling}function m(t){if(!t.target||!document.querySelector(t.target))throw TypeError("Components must have a valid target");if("object"!=_typeof(t.data))throw TypeError("Components must have a valid target")}function g(t,n,e,r){var o,i;if("object"!==(void 0===t?"undefined":_typeof(t)))throw TypeError("Cannot create proxy with a non-object as target");if("object"!==(void 0===n?"undefined":_typeof(n)))throw TypeError("Cannot create proxy with a non-object as handler");return void 0===r&&(r=""),o=Object.assign({},t),Object.keys(o).forEach(function(t){"object"!==_typeof(o[t])||Array.isArray(o[t])||(o[t]=g(o[t],n,e,r+"."+t))}),i=Object.assign({},n,{set:function(o,i,a,u){return e&&e({action:"set",target:o,value:a,receiver:u,path:b(r,i)}),"object"!==(void 0===a?"undefined":_typeof(a))||Array.isArray(a)?Reflect.set(o,i,a):Reflect.set(o,i,g(a,n,e,b(r,i))),Reflect.set(t,i,a),n.set?n.set(o,i,a,u,b(r,i)):!0}}),new Proxy(o,i)}function b(t,n){return(t+"."+n).match(/[^\.].*/)[0]}return t});