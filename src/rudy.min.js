"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e():t.rudy=e()}(this,function(){function t(t){return b=performance.now(),y(t),t.__livePaths__=[],u(t),o(t),t}function e(t,e,n){var r=c(t.data,e);"function"==typeof r&&-1===t.__livePaths__.indexOf(e)&&t.__livePaths__.push(e),t.__bindings__[e].push(n)}function n(t,e){t.templateURL?i(t.templateURL,f(function(e,n){if(e)throw Error("Could not download component template from "+t.templateURL);return n?n:void 0},_,e)):t.template?f(_,e)(t.template):e(document.querySelector(t.target).childNodes)}function r(t){return function(e,n,r,o,a){var i=c(t.watchers,a);return"function"==typeof i&&(r=i(r,null)||r),"function"==typeof r&&(r=r.call(Object.assign({},t.__data__))),t.__bindings__[a]&&(t.__bindings__[a].forEach(function(t){t(r)}),t.__livePaths__&&t.__livePaths__.forEach(function(e){var n=(c(t.__data__,e)||function(){}).bind(Object.assign({},t.__data__)),r=c(t.watchers,e);"function"==typeof r&&(n=r(n,null)||n),"function"==typeof n&&(n=n.call(Object.assign({},t.__data__))),t.__bindings__[e].forEach(function(t){t(n)})})),!0}}function o(t){t.__data__=Object.assign({},t.data);var e=null;return Object.defineProperty(t,"data",{get:function(){return e},set:function(n){t.__data__=Object.assign({},n),e=new g(t.__data__,{set:r(t)}),"function"==typeof this.create&&(this.__create__=this.create,this.create.call(this.data),delete this.create),l(this)}}),t.data=t.__data__,t}function a(t,e){var n=[];return t.forEach(function(t){n.push(t,e)}),n.pop(),n}function i(t,e){console.time("getTemplateFromURL");var n=new XMLHttpRequest;n.open("GET",t,!0),n.onload=function(){console.timeEnd("getTemplateFromURL"),4!=n.readyState||200!=n.status?e(!0):e(null,n.responseText)};try{n.send()}catch(r){e(r)}}function c(t,e){return t&&e?e.split(".").reduce(function(t,e){return void 0===t?void 0:t[e]},t):void 0}function u(t){function r(n){function r(e){function n(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];r.forEach(function(n){t[n]=e})}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",o=["onclick","onchange","onkeypress","oninput"],a=c(t.watchers,e.getAttribute("name"));e.hasAttribute("no-bind")===!1&&(t.watchers===!0||a===!0||"function"!=typeof a&&e.hasAttribute("bind")?n.apply(void 0,[e,function(){s(t.data,e.getAttribute("name"),e[r])}].concat(o)):"function"==typeof a&&n.apply(void 0,[e,function(){var n=a(e[r],e);n&&s(t.data,e.getAttribute("name"),n)}].concat(o)))}var o={};return o.INPUT=function(n){if(n.getAttribute("name")){h(t,n.getAttribute("name"));var o="checkbox"===n.getAttribute("type")?"checked":"value";e(t,n.getAttribute("name"),function(t){n[o]=t}),r(n,o)}},["RANGE","SELECT","TEXTAREA"].forEach(function(n){o[n]=function(n){n.getAttribute("name")&&(h(t,n.getAttribute("name")),e(t,n.getAttribute("name"),function(t){n.value=t}),r(n))}}),o["#text"]=function(n){var r,o=n.textContent.match(/{{(.+?)}}/g);o&&(r=o[0].replace(/[{}]/g,"").trim(),h(t,r),e(t,r,function(t){n.nodeValue=t}),n.textContent="")},void 0!==n.nodeName&&o[n.nodeName]&&o[n.nodeName](n),n}function o(t){for(var e=document.querySelector(t.target);e.firstChild;)e.removeChild(e.firstChild);return a.forEach(e.appendChild.bind(e)),!0}t.__bindings__={};var a=n(t,f(function(e){return e.forEach(function(t){m(t,r)}),a=e,t},l,o))}function f(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(){var t,n,r,o=this;for(t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return e.reduce(function(t,e,n){var r=0==n?e.apply(o,t):e.call(o,t);return r},n)}}function s(t,e,n){var r,o,a=t,i=e.split("."),c=i.length;for(r=0;c-1>r;r++)o=i[r],a[o]||(a[o]={}),a=a[o];a[i[c-1]]=n}function d(t){function e(t,e){var n=e.reduce(function(t,e){return t.reduce(function(t,n){return t.concat(-1===n.indexOf(e)||n===e?n:a(n.split(e),e))},[])},[t.textContent]).map(function(t){return document.createTextNode(t)});return n}var n=t.textContent.match(/{{(.+?)}}/g);return n?e(t,n):t}function _(t){return[].concat.apply([],(new DOMParser).parseFromString(t,"text/html").body.childNodes)}function l(t){var e=r(t);return Object.keys(t.__bindings__).forEach(function(n){p(t,n,e)}),t}function p(t,e,n){void 0===n&&(n=r(t));var o=c(t.__data__,e);o&&n(null,null,o,null,e)}function h(t,e){t.__bindings__[e]=t.__bindings__[e]||[]}function m(t,e){for(e(t),t=t.firstChild;t;){if("#text"===t.nodeName){var n=d(t);Array.isArray(n)&&(n.forEach(f(e,function(e){t.parentNode.insertBefore(e,t)})),t=t.previousSibling,t.parentNode.removeChild(t.nextSibling))}else m(t,e);t=t.nextSibling}}function y(t){if(!t.target||!document.querySelector(t.target))throw TypeError("Components must have a valid target");if("object"!=_typeof(t.data))throw TypeError("Components must have a valid target")}function g(t,e,n,r){var o,a;if("object"!==(void 0===t?"undefined":_typeof(t)))throw TypeError("Cannot create proxy with a non-object as target");if("object"!==(void 0===e?"undefined":_typeof(e)))throw TypeError("Cannot create proxy with a non-object as handler");return void 0===r&&(r=""),o=Object.assign({},t),Object.keys(o).forEach(function(t){"object"!==_typeof(o[t])||Array.isArray(o[t])||(o[t]=g(o[t],e,n,r+"."+t))}),a=Object.assign({},e,{set:function(o,a,i,c){return n&&n({action:"set",target:o,value:i,receiver:c,path:v(r,a)}),"object"!==(void 0===i?"undefined":_typeof(i))||Array.isArray(i)?Reflect.set(o,a,i):Reflect.set(o,a,g(i,e,n,v(r,a))),Reflect.set(t,a,i),e.set?e.set(o,a,i,c,v(r,a)):!0}}),new Proxy(o,a)}function v(t,e){return(t+"."+e).match(/[^\.].*/)[0]}var b;return t});