"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=n():t.rudy=n()}(this,function(){function t(t){return v(t),t.__livePaths__=[],f(t),r(t),t}function n(t,n,e){var o=c(t.data,n);"function"==typeof o&&-1===t.__livePaths__.indexOf(n)&&t.__livePaths__.push(n),t.__bindings__[n].push(e)}function e(t,n){t.templateURL?u(t.templateURL,s(function(n,e){if(n)throw Error("Could not download component template from "+t.templateURL);return e?e:void 0},l,n)):n(t.template?l(t.template):document.querySelector(t.target).childNodes)}function o(t){return function(n,e,o,r,i){var a=c(t.watchers,i);return"function"==typeof a&&(o=a(o,null)||o),"function"==typeof o&&(o=o.call(Object.assign({},t.__data__))),t.__bindings__[i]&&(t.__bindings__[i].forEach(function(t){t(o)}),t.__livePaths__&&t.__livePaths__.forEach(function(n){var e=(c(t.__data__,n)||function(){}).bind(Object.assign({},t.__data__)),o=c(t.watchers,n);"function"==typeof o&&(e=o(e,null)||e),"function"==typeof e&&(e=e.call(Object.assign({},t.__data__))),t.__bindings__[n].forEach(function(t){t(e)})})),!0}}function r(t){t.__data__=Object.assign({},t.data);var n=null;return Object.defineProperty(t,"data",{get:function(){return n},set:function(e){t.__data__=Object.assign({},e),n=new g(t.__data__,{set:o(t)}),"function"==typeof this.create&&(this.__create__=this.create,this.create.call(this.data),delete this.create),p(this)}}),t.data=t.__data__,t}function i(t,n){var e=[];return t.forEach(function(t){e.push(t,n)}),e.pop(),e}function a(t){var n=[];return t.forEach(function(t){y(t,function(t){n.push(t)})}),n}function u(t,n){var e=new XMLHttpRequest;e.open("GET",t,!0),e.onload=function(){console.timeEnd("Time to get partial"),4!=e.readyState||200!=e.status?n(!0):n(null,e.responseText)};try{console.time("Time to get partial"),e.send()}catch(o){n(o)}}function c(t,n){return t&&n?n.split(".").reduce(function(t,n){return void 0===t?void 0:t[n]},t):void 0}function f(t){function o(e){function o(n){function e(t,n){for(var e=arguments.length,o=Array(e>2?e-2:0),r=2;e>r;r++)o[r-2]=arguments[r];o.forEach(function(e){t[e]=n})}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",r=["onclick","onchange","onkeypress","oninput"],i=c(t.watchers,n.getAttribute("name"));n.hasAttribute("no-bind")===!1&&(t.watchers===!0||i===!0||"function"!=typeof i&&n.hasAttribute("bind")?e.apply(void 0,[n,function(){d(t.data,n.getAttribute("name"),n[o])}].concat(r)):"function"==typeof i&&e.apply(void 0,[n,function(){var e=i(n[o],n);e&&d(t.data,n.getAttribute("name"),e)}].concat(r)))}var r={};r.INPUT=function(e){if(e.getAttribute("name")){m(t,e.getAttribute("name"));var r="checkbox"===e.getAttribute("type")?"checked":"value";n(t,e.getAttribute("name"),function(t){e[r]=t}),o(e,r)}},["RANGE","SELECT","TEXTAREA"].forEach(function(e){r[e]=function(e){e.getAttribute("name")&&(m(t,e.getAttribute("name")),n(t,e.getAttribute("name"),function(t){e.value=t}),o(e))}}),r["#text"]=function(e){var o,r=e.textContent.match(/{{(.+?)}}/g);r&&(o=r[0].replace(/[{}]/g,"").trim(),m(t,o),n(t,o,function(t){e.nodeValue=t}),e.textContent="")},void 0!==e.nodeName&&r[e.nodeName]&&r[e.nodeName](e)}function r(n){return n.forEach(o),t}function i(t){var n=document.querySelector(t.target);if(""===n.innerHTML.trim())do n.appendChild(u[0]);while(u[0]);return!0}console.time("Time to get nodes"),t.__bindings__={};var u=e(t,s(function(t){return console.timeEnd("Time to get nodes"),console.time("Time to render first view"),u=t},a,_,r,p,i,function(){console.timeEnd("Time to render first view")}))}function s(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];return function(){var t,e,o,r=this;for(t=arguments.length,e=Array(t),o=0;t>o;o++)e[o]=arguments[o];return n.reduce(function(t,n,e){var o=0==e?n.apply(r,t):n.call(r,t);return o},e)}}function d(t,n,e){var o,r,i=t,a=n.split("."),u=a.length;for(o=0;u-1>o;o++)r=a[o],i[r]||(i[r]={}),i=i[r];i[a[u-1]]=e}function _(t){function n(t){"#text"===t.nodeName?u=u.concat(e(t)):u.push(t)}function e(t){var n=t.textContent.match(/{{(.+?)}}/g);return n?o(t,n):t}function o(t,n){var e=r(t.textContent,n).map(function(n){var e=document.createTextNode(n);return t.parentNode.insertBefore(e,t),e});return t.parentNode.removeChild(t),e}function r(t,n){var e=[t];return n.forEach(function(t){e=a(e,t)}),e}function a(t,n){var e=[];return t.forEach(function(t){t.indexOf(n)>-1?e.push.apply(e,i(t.split(n),n)):e.push(t)}),e}var u=[];return t.forEach(n),u}function l(t){return(new DOMParser).parseFromString(t,"text/html").body.childNodes}function p(t){var n=o(t);return Object.keys(t.__bindings__).forEach(function(e){h(t,e,n)}),t}function h(t,n,e){void 0===e&&(e=o(t));var r=c(t.__data__,n);r&&e(null,null,r,null,n)}function m(t,n){t.__bindings__[n]=t.__bindings__[n]||[]}function y(t,n){for(n(t),t=t.firstChild;t;)y(t,n),t=t.nextSibling}function v(t){if(!t.target||!document.querySelector(t.target))throw TypeError("Components must have a valid target");if("object"!=_typeof(t.data))throw TypeError("Components must have a valid target")}function g(t,n,e,o){var r,i;if("object"!==(void 0===t?"undefined":_typeof(t)))throw TypeError("Cannot create proxy with a non-object as target");if("object"!==(void 0===n?"undefined":_typeof(n)))throw TypeError("Cannot create proxy with a non-object as handler");return void 0===o&&(o=""),r=Object.assign({},t),Object.keys(r).forEach(function(t){"object"!==_typeof(r[t])||Array.isArray(r[t])||(r[t]=g(r[t],n,e,o+"."+t))}),i=Object.assign({},n,{set:function(r,i,a,u){return e&&e({action:"set",target:r,value:a,receiver:u,path:b(o,i)}),"object"!==(void 0===a?"undefined":_typeof(a))||Array.isArray(a)?Reflect.set(r,i,a):Reflect.set(r,i,g(a,n,e,b(o,i))),Reflect.set(t,i,a),n.set?n.set(r,i,a,u,b(o,i)):!0}}),new Proxy(r,i)}function b(t,n){return(t+"."+n).match(/[^\.].*/)[0]}return t});